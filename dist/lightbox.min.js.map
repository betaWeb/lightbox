{"version":3,"sources":["src/utils.ts","src/LightboxItem.ts","src/LightboxList.ts","src/LightboxGroup.ts","src/Lightbox.ts","index.js"],"names":["globalThis","Lightbox"],"mappings":"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","file":"lightbox.min.js","sourceRoot":"..","sourcesContent":["export function debounce(callback: Function, delay: number): Function {\n    let timer;\n\n    return function() {\n        let args = arguments\n        let context = this\n\n        clearTimeout(timer)\n\n        timer = setTimeout(() => {\n            callback.apply(context, args)\n        }, delay)\n    }\n}\n\nexport function getImageBoundings (image: HTMLImageElement|HTMLElement, offset: number = 0): ImageBoundings {\n    let naturalWidth = 0\n    let naturalHeight = 0\n    let offsetWidth = 0\n    let offsetHeight = 0\n\n    if (image.constructor === HTMLImageElement) {\n        naturalWidth = image.naturalWidth\n        naturalHeight = image.naturalHeight\n    } else {\n        naturalWidth = image.clientWidth\n        naturalHeight = image.clientHeight\n    }\n\n    const { width, height, orientation } = aspectRatioFit(\n        naturalWidth,\n        naturalHeight,\n        window.innerWidth,\n        window.innerHeight\n    ) as AspectRatio\n\n    switch (orientation) {\n        case 'landscape':\n            offsetWidth = offset\n            break\n        case 'portrait':\n            offsetHeight = offset\n            break\n        case 'even':\n            offsetWidth = offset\n            offsetHeight = offset\n            break\n    }\n\n    return {\n        width: width - (2 * offsetWidth),\n        height: height - (2 * offsetHeight)\n    }\n}\n\nexport function aspectRatioFit(\n    srcWidth: number,\n    srcHeight: number,\n    maxWidth: number,\n    maxHeight: number\n): AspectRatio {\n    let ratio = Math.min(maxWidth / srcWidth, maxHeight / srcHeight)\n    let orientation = 'even'\n\n    if (srcWidth > srcHeight) {\n        orientation = 'landscape'\n    } else if (srcWidth < srcHeight) {\n        orientation = 'portrait'\n    }\n\n    let width = srcWidth * ratio\n    let height = srcHeight * ratio\n\n    if (width <= maxWidth || height <= maxHeight) {\n        orientation = 'even'\n    }\n\n    return {\n        ratio,\n        width,\n        height,\n        orientation\n    }\n}\n\nexport function getElementSrc(el): string {\n    return el.constructor === HTMLImageElement\n        ? (el as HTMLImageElement).src\n        : el.dataset.src\n}\n","import LightboxGroup from './LightboxGroup'\n\nexport default class LightboxItem {\n\n    public el: HTMLElement = null\n\n    public src: string = null\n\n    public handler: EventListener = null\n\n    private _group: string = null\n\n    private _index: number = null\n\n    constructor(el: HTMLElement, src: string, handler: EventListener = null) {\n        this.el = el\n        this.src = src\n        this.handler = handler\n    }\n\n    public get group(): string {\n        return this._group\n    }\n\n    public get index(): number {\n        return this._index\n    }\n\n    public set group(group: string) {\n        this._group = group || LightboxGroup.DEFAULT_NAME\n    }\n\n    public set index(index: number) {\n        this._index = index\n    }\n\n    public addEvent(handler: EventListener|null = null): this {\n        if (handler !== null) {\n            this.handler = handler\n        }\n\n        this.el.addEventListener('click', this.handler as EventListener)\n\n        return this\n    }\n\n    public removeEvent(): this {\n        this.el.removeEventListener('click', this.handler as EventListener)\n\n        return this\n    }\n\n}\n","import LightboxItem from './LightboxItem'\n\nexport default class LightboxList {\n\n    public items: LightboxItem[] = []\n\n    public add(item: ILightboxItemObject|LightboxItem): LightboxItem {\n        if (!(item instanceof LightboxItem)) {\n            const {el, src, handler} = item as ILightboxItemObject\n\n            item = new LightboxItem(el, src, handler)\n        }\n\n        this.items.push(item as LightboxItem)\n\n        return <LightboxItem>item\n    }\n\n    public find(index: number): LightboxItem|null {\n        return this.items[index] || null\n    }\n\n    public findBy(src: string): LightboxItem|null {\n        return this.items.find(item => item.src === src) || null\n    }\n\n    public remove(index: number): LightboxItem|null {\n        const item = this.find(index)\n\n        if (item !== null) {\n            this.items.splice(index, 1)\n        }\n\n        return item\n    }\n\n}\n","import LightboxList from './LightboxList'\nimport LightboxItem from \"./LightboxItem\";\n\nexport default class LightboxGroup {\n\n    public static readonly DEFAULT_NAME: string = \"_DEFAULT\"\n\n    public groups: ILightboxListGroup = {}\n\n    public all(): ILightboxListGroup {\n        return this.groups\n    }\n\n    public has(name: string): boolean {\n        return this.groups[name] !== undefined\n    }\n\n    public get(name: string): LightboxList {\n        // @ts-ignore\n        return this.groups[name]\n    }\n\n    public create(name: string): void {\n        if (!this.has(name)) {\n            // @ts-ignore\n            this.groups[name] = new LightboxList()\n        }\n    }\n\n    public addTo(name: string, item: ILightboxItemObject|LightboxItem): LightboxItem {\n        this.create(name)\n\n        this.get(name).add(item)\n\n        return item as LightboxItem\n    }\n\n    public retrieve(name: string, needle: string|number): LightboxItem|null {\n        if (typeof needle === 'string') {\n            return this.get(name).findBy(needle as string)\n        }\n\n        return this.get(name).find(needle as number)\n    }\n\n    public remove(name: string): void {\n        delete this.groups[name]\n    }\n\n    public size(name: string): number {\n        try {\n            return this.get(name).items.length\n        } catch {\n            return 0\n        }\n    }\n\n}\n","import {debounce, getElementSrc, getImageBoundings} from \"./utils\";\nimport LightboxGroup from \"./LightboxGroup\";\nimport LightboxItem from \"./LightboxItem\";\n\nexport default class Lightbox {\n\n\tpublic elements: NodeList\n\n\tpublic options: Options\n\n\tprivate _groups: LightboxGroup = null\n\n\tprivate _lightbox: HTMLDivElement = null\n\n\tprivate _lightbox_inner: HTMLDivElement = null\n\n\tprivate _image: HTMLImageElement = null\n\n\tprivate _nav_prev: HTMLDivElement = null\n\n\tprivate _nav_next: HTMLDivElement = null\n\n\tprivate _current: LightboxItem = null\n\n\tpublic static get default_options(): Options {\n\t\treturn {\n\t\t\tselector: '.lightbox--link',\n\t\t\tlightbox_class: 'lightbox',\n\t\t\tlightbox_inner_class: 'lightbox--inner',\n\t\t\tlightbox_legend_class: 'lightbox--legend',\n\t\t\tlightbox_visible_class: 'visible',\n\t\t\timage_loading_class: 'is-loading',\n\t\t\tprevent_scroll: true,\n\t\t\tprevent_scroll_class: 'prevent-scroll',\n\t\t\tprevent_scroll_element: document.body,\n\t\t\tinner_offset: 30,\n\t\t\tnav: true,\n\t\t\tnav_prev_class: 'lightbox--prev',\n\t\t\tnav_next_class: 'lightbox--next'\n\t\t}\n\t}\n\n\tconstructor(options = {}) {\n\t\tthis.options = {\n\t\t\t...Lightbox.default_options,\n\t\t\t...options\n\t\t}\n\n\t\tthis.elements = document.querySelectorAll(this.options.selector)\n\n\t\tif (this.elements.length === 0) {\n\t\t\tthrow new Error('Lightbox::constructor - no elements found')\n\t\t}\n\n\t\tthis._groups = new LightboxGroup()\n\n\t\tthis.hide = this.hide.bind(this)\n\t\tthis.prev = this.prev.bind(this)\n\t\tthis.next = this.next.bind(this)\n\t\tthis.onEscape = this.onEscape.bind(this)\n\t\tthis.onResize = this.onResize.bind(this)\n\n\t\tthis.attachEvents()\n\t}\n\n\tpublic show(src: string): void {\n\t\tthis._lightbox.classList.add(this.options.image_loading_class)\n\n\t\tthis._image = new Image()\n\n\t\tthis._image.onload = async (): Promise<void> => {\n\t\t\tawait this.setInnerBoundings()\n\n\t\t\tthis._lightbox_inner.style.backgroundImage = `url('${this._image.src}')`\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis._lightbox.classList.remove(this.options.image_loading_class)\n\t\t\t}, 300)\n\t\t}\n\n\t\tthis._image.src = src\n\n\t\tif (this.options.prevent_scroll) {\n\t\t\tthis.options.prevent_scroll_element.classList.add(this.options.prevent_scroll_class)\n\t\t}\n\n\t\tthis._lightbox.classList.add(this.options.lightbox_visible_class)\n\t}\n\n\tpublic hide(): this {\n\t\tthis._lightbox.classList.remove(this.options.lightbox_visible_class)\n\n\t\tif (this.options.prevent_scroll) {\n\t\t\tthis.options.prevent_scroll_element.classList.remove(this.options.prevent_scroll_class)\n\t\t}\n\n\t\tthis._lightbox_inner.style.backgroundImage = null\n\t\tthis._image = null\n\n\t\tthis.setCurrent(null)\n\n\t\treturn this\n\t}\n\n\tpublic prev(): this {\n\t\treturn this.nav(-1)\n\t}\n\n\tpublic next(): this {\n\t\treturn this.nav(1)\n\t}\n\n\tpublic add(el: HTMLElement|HTMLImageElement): this {\n\t\tthis.storeElement(el)\n\n\t\treturn this\n\t}\n\n\tpublic remove(el: HTMLElement|HTMLImageElement): LightboxItem|null {\n\t\tconst group = el.dataset.group || LightboxGroup.DEFAULT_NAME\n\t\tconst item = this._groups.retrieve(group, getElementSrc(el))\n\n\t\tif (item !== null) {\n\t\t\tthis._groups.get(group).remove(item.index)\n\n\t\t\tif (this._groups.size(group) === 0) {\n\t\t\t\tthis._groups.remove(group)\n\t\t\t}\n\n\t\t\treturn item\n\t\t}\n\n\t\treturn null\n\t}\n\n\tpublic refresh(groupName: string = null): object {\n\t\tlet altered = {};\n\n\t\tif (groupName === null) {\n\t\t\tconst groups = this._groups.all()\n\n\t\t\tfor (let name in groups) {\n\t\t\t\tif (groups.hasOwnProperty(name)) {\n\t\t\t\t\taltered = {\n\t\t\t\t\t\t...altered,\n\t\t\t\t\t\t...this.refreshGroup(name)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\taltered = {\n\t\t\t\t...altered,\n\t\t\t\t...this.refreshGroup(groupName)\n\t\t\t}\n\t\t}\n\n\t\treturn altered\n\t}\n\n\tpublic destroy(): void {\n\t\tfor (let group in this._groups.all()) {\n\t\t\tif (this._groups.hasOwnProperty(group)) {\n\t\t\t\tconst entries = Object.values(this._groups[group])\n\n\t\t\t\tif (entries.length > 0) {\n\t\t\t\t\tentries.forEach((entry: LightboxItem): void => {\n\t\t\t\t\t\tentry.removeEvent()\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\twindow.removeEventListener('resize', debounce(this.onResize, 300) as EventListener)\n\t\twindow.removeEventListener('keyup', this.onEscape)\n\n\t\tthis._nav_prev.removeEventListener('click', this.prev)\n\t\tthis._nav_next.removeEventListener('click', this.next)\n\n\t\tthis._lightbox_inner.removeEventListener('click', (e: MouseEvent) => e.stopPropagation())\n\t\tthis._lightbox_inner.remove()\n\n\t\tthis._lightbox.removeEventListener('click', this.hide)\n\t\tthis._lightbox.remove()\n\n\t\tthis._lightbox = null\n\t\tthis._lightbox_inner = null\n\t\tthis._image = null\n\t\tthis._groups = null\n\t\tthis._nav_prev = null\n\t\tthis._nav_next = null\n\n\t\tthis.setCurrent(null)\n\t}\n\n\tprivate nav(direction: number): this {\n\t\tconst { group, index } = this._current\n\t\tconst count = this._groups.size(group)\n\t\tconst newIndex = direction < 0\n\t\t\t? index - 1 < 0 ? count : index\n\t\t\t: index + 1 === count ? -1 : index\n\n\t\tlet item: LightboxItem = this._groups.retrieve(group, newIndex + direction)\n\n\t\tif (item !== null) {\n\t\t\tthis.hide()\n\n\t\t\tthis.setCurrent(item)\n\n\t\t\tthis.show(item.src)\n\t\t}\n\n\t\treturn this\n\t}\n\n\tprivate refreshGroup(groupName: string): object {\n\t\tconst elements = Array.from(\n\t\t\tdocument.querySelectorAll(\n\t\t\t\t`${this.options.selector}[data-group=\"${groupName}\"]`\n\t\t\t)\n\t\t)\n\t\tconst group = this._groups.get(groupName)\n\t\tconst items = group.items\n\t\tlet added = []\n\t\tlet removed = []\n\n\t\tif (elements.length !== items.length) {\n\t\t\tadded = elements.filter(\n\t\t\t\tel => !items.map(i => i.src).includes(getElementSrc(el))\n\t\t\t)\n\n\t\t\tremoved = items.filter(\n\t\t\t\titem => !elements.map(getElementSrc).includes(item.src)\n\t\t\t)\n\n\t\t\tremoved.forEach(({index}: LightboxItem) => group.remove(index))\n\t\t\tadded.forEach((el: HTMLElement) => this.storeElement(el))\n\n\t\t\titems.forEach((item: LightboxItem, index: number) => item.index = index)\n\t\t}\n\n\t\treturn {[groupName]: {added, removed}}\n\t}\n\n\tprivate createLightBox(): void {\n\t\tthis._lightbox_inner = document.createElement('div')\n\t\tthis._lightbox_inner.classList.add(this.options.lightbox_inner_class)\n\n\t\tthis._lightbox = document.createElement('div')\n\t\tthis._lightbox.classList.add(this.options.lightbox_class)\n\t\tthis._lightbox.appendChild(this._lightbox_inner)\n\n\t\tif (this.options.nav === true) {\n\t\t\tconst nav_prev = document.createElement('div')\n\t\t\tconst nav_next = document.createElement('div')\n\n\t\t\tnav_prev.classList.add(this.options.nav_prev_class)\n\t\t\tnav_next.classList.add(this.options.nav_next_class)\n\n\t\t\tnav_prev.addEventListener('click', this.prev)\n\t\t\tnav_next.addEventListener('click', this.next)\n\n\t\t\tthis._lightbox_inner.appendChild(nav_prev)\n\t\t\tthis._lightbox_inner.appendChild(nav_next)\n\n\t\t\tthis._nav_prev = nav_prev\n\t\t\tthis._nav_next = nav_next\n\t\t}\n\n\t\tdocument.body.appendChild(this._lightbox)\n\t}\n\n\tprivate attachEvents(): void {\n\t\twindow.addEventListener('resize', debounce(this.onResize, 300) as EventListener)\n\t\twindow.addEventListener('keyup', this.onEscape)\n\n\t\tthis.createLightBox()\n\n\t\tthis._lightbox.addEventListener('click', this.hide)\n\t\tthis._lightbox_inner.addEventListener('click', (e: MouseEvent) => e.stopPropagation())\n\n\t\tthis.elements.forEach(async (el: HTMLElement): Promise<void> => {\n\t\t\tawait this.storeElement(el)\n\t\t})\n\t}\n\n\tprivate createLegend(legend: string): void {\n\t\tconst div = document.createElement('div')\n\n\t\tdiv.classList.add(this.options.lightbox_legend_class)\n\t\tdiv.innerHTML = legend\n\n\t\tthis._lightbox_inner.appendChild(div)\n\t}\n\n\tprivate storeElement(el: HTMLElement): void {\n\t\tconst src = getElementSrc(el)\n\t\tconst group = el.dataset.group || LightboxGroup.DEFAULT_NAME\n\t\t// const legend = el.dataset.legend || null\n\n\t\tthis._groups.create(group)\n\n\t\t/*if (legend !== null) {\n\t\t\t\tthis.createLegend(legend)\n\t\t}*/\n\n\t\tconst lightboxItem = new LightboxItem(el, src)\n\n\t\tlightboxItem.group = group\n\t\tlightboxItem.index = this._groups.size(group)\n\n\t\tlightboxItem.addEvent((): void => {\n\t\t\tthis.setCurrent(lightboxItem)\n\n\t\t\tconst hideNav = this._groups.size(group) <= 1\n\n\t\t\tthis._nav_prev.classList.toggle('is-hidden', hideNav)\n\t\t\tthis._nav_next.classList.toggle('is-hidden', hideNav)\n\n\t\t\tthis.show(src)\n\t\t})\n\n\t\tthis._groups.addTo(group, lightboxItem)\n\t}\n\n\tprivate onEscape(e: KeyboardEvent): void {\n\t\tif (e.key === 'Escape') {\n\t\t\tthis.hide()\n\t\t}\n\t}\n\n\tprivate async onResize(): Promise<void> {\n\t\tif (this._image !== null) {\n\t\t\tawait this.setInnerBoundings()\n\t\t}\n\t}\n\n\tprivate async setInnerBoundings(): Promise<void> {\n\t\tconst {width, height}: ImageBoundings = getImageBoundings(\n\t\t\tthis._image,\n\t\t\tthis.options.inner_offset\n\t\t)\n\n\t\tthis._lightbox_inner.style.width = width + 'px'\n\t\tthis._lightbox_inner.style.height = height + 'px'\n\t}\n\n\tprivate setCurrent(item: LightboxItem): void {\n\t\tthis._current = item\n\t}\n}\n\nif (window && document) {\n\twindow['Lightbox'] = Lightbox\n}\n","import Lightbox from \"./src/Lightbox\"\n\nglobalThis.Lightbox = Lightbox"]}